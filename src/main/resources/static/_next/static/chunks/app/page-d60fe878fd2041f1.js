(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1482:function(e,t,r){Promise.resolve().then(r.bind(r,1065))},1065:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(7437),n=r(2265),s=r(5475),i=r(4508);function o(e){let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var l=r(6840),c=n.forwardRef((e,t)=>(0,a.jsx)(l.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function d(e){let{className:t,...r}=e;return(0,a.jsx)(c,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}function m(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)(!1),[i,l]=(0,n.useState)(""),[c,m]=(0,n.useState)({username:"",email:"",password:"",confirmPassword:""});(0,n.useEffect)(()=>{let e=()=>{let e=new(window.AudioContext||window.webkitAudioContext),t=t=>{let r=e.createOscillator(),a=e.createGain(),n=e.createBiquadFilter();r.connect(n),n.connect(a),a.connect(e.destination),r.frequency.setValueAtTime(800+200*Math.random(),e.currentTime+t),r.type="square",n.type="highpass",n.frequency.setValueAtTime(400,e.currentTime+t),a.gain.setValueAtTime(0,e.currentTime+t),a.gain.setValueAtTime(.15,e.currentTime+t+.001),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+t+.02),r.start(e.currentTime+t),r.stop(e.currentTime+t+.02)};t(0),t(.01)},t=()=>{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain(),a=e.createBiquadFilter();t.connect(a),a.connect(r),r.connect(e.destination),t.frequency.setValueAtTime(150,e.currentTime),t.frequency.linearRampToValueAtTime(80,e.currentTime+.3),t.frequency.linearRampToValueAtTime(120,e.currentTime+.6),a.type="lowpass",a.frequency.setValueAtTime(800,e.currentTime),a.frequency.linearRampToValueAtTime(200,e.currentTime+.6),t.type="sawtooth",r.gain.setValueAtTime(.3,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.6),t.start(e.currentTime),t.stop(e.currentTime+.6)},r=t=>{if(1===t.key.length||"Backspace"===t.key||"Enter"===t.key)try{e()}catch(e){console.log("[v0] Audio context error:",e)}},a=e=>{let r=e.target;if("BUTTON"===r.tagName||r.closest("button"))try{t()}catch(e){console.log("[v0] Audio context error:",e)}};return document.addEventListener("keydown",r),document.addEventListener("click",a),()=>{document.removeEventListener("keydown",r),document.removeEventListener("click",a)}},[]);let u=e=>{m(t=>({...t,[e.target.name]:e.target.value}))},p=async a=>{a.preventDefault(),l("");try{if(t){if(c.password!==c.confirmPassword){l("Les contrasenyes no coincideixen");return}if(!(await fetch("http://localhost:8080/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c.username,email:c.email,password:c.password})})).ok)throw Error("Error al registrar-se");alert("Usuari registrat correctament! Pots fer login."),r(!1)}else{let t=await fetch("http://localhost:8080/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c.email,password:c.password})});if(!t.ok)throw Error("Credencials incorrectes");let r=await t.json();localStorage.setItem("token",r.token),"ADMIN"===r.role?e.push("/admin"):e.push("/dashboard")}}catch(e){l(e.message)}};return(0,a.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"pixel-space-background",children:[(0,a.jsx)("div",{className:"pixel-stars pixel-stars-1"}),(0,a.jsx)("div",{className:"pixel-stars pixel-stars-2"}),(0,a.jsx)("div",{className:"pixel-stars pixel-stars-3"})]}),(0,a.jsx)("img",{src:"/commander.png",alt:"Commander Subirachs",className:"w-24 h-24 absolute left-4 bottom-4"}),(0,a.jsxs)("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-20",children:[(0,a.jsx)("h1",{className:"pixel-title-enhanced text-center",children:"ALIEN PET ZOO"}),(0,a.jsx)("p",{className:"text-center text-primary text-lg mt-2 font-mono pixel-subtitle",children:"◆ INTERGALACTIC SPECIMEN COLLECTION ◆"})]}),(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen relative z-10",children:(0,a.jsxs)("div",{className:"pixel-card p-8 max-w-md w-full mx-4",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"text-primary text-sm font-bold mb-2",children:"◆ SYSTEM ACCESS ◆"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:t?"NEW SPECIMEN HANDLER REGISTRATION":"AUTHORIZED PERSONNEL ONLY"})]}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[t&&(0,a.jsxs)("div",{children:[(0,a.jsx)(d,{htmlFor:"username",className:"text-primary text-sm font-bold",children:"▶ HANDLER ID"}),(0,a.jsx)(o,{id:"username",name:"username",type:"text",placeholder:"ENTER_CALLSIGN",value:c.username,onChange:u,className:"pixel-input mt-1",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d,{htmlFor:"email",className:"text-primary text-sm font-bold",children:"▶ COMM FREQUENCY"}),(0,a.jsx)(o,{id:"email",name:"email",type:"email",placeholder:"handler@xenobio.space",value:c.email,onChange:u,className:"pixel-input mt-1",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d,{htmlFor:"password",className:"text-primary text-sm font-bold",children:"▶ ACCESS CODE"}),(0,a.jsx)(o,{id:"password",name:"password",type:"password",placeholder:"••••••••",value:c.password,onChange:u,className:"pixel-input mt-1",required:!0})]}),t&&(0,a.jsxs)("div",{children:[(0,a.jsx)(d,{htmlFor:"confirmPassword",className:"text-primary text-sm font-bold",children:"▶ CONFIRM CODE"}),(0,a.jsx)(o,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"••••••••",value:c.confirmPassword,onChange:u,className:"pixel-input mt-1",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"pixel-button w-full mt-6",children:t?"◆ REGISTER HANDLER ◆":"◆ ACCESS GRANTED ◆"})]}),i&&(0,a.jsx)("div",{className:"text-red-500 text-sm text-center mt-2",children:i}),(0,a.jsx)("div",{className:"mt-6 text-center border-t border-primary/30 pt-4",children:(0,a.jsx)("button",{type:"button",onClick:()=>r(!t),className:"text-secondary hover:text-accent transition-colors text-sm",children:t?"← RETURN TO ACCESS":"NEW HANDLER REGISTRATION →"})}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"XENOBIO SYSTEMS v3.7.2"})})]})})]})}c.displayName="Label"},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(1994),n=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[903,971,117,744],function(){return e(e.s=1482)}),_N_E=e.O()}]);